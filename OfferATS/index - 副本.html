<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>R winSaaS 高阶系统架构</title>
<style>
  /* ======================
     Reset & Base 样式
     统一清除默认 margin、padding，设置盒模型为 border-box，方便布局计算 */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif; /* 主体字体 */
    background: #fafafa;  /* 浅灰背景 */
    color: #333;          /* 主文本颜色 */
    line-height: 1.6;     /* 行高，便于阅读 */
  }
  a {
    text-decoration: none; /* 链接默认无下划线 */
    color: inherit;        /* 继承父元素颜色 */
  }

  /* ① 促销条 promo-bar */
  .promo-bar {
    background-color: #7F187F; /* 紫色背景 */
    color: #fff;               /* 白色文字 */
    width: 100%;               /* 全宽 */
    display: flex;             /* 使用 flex 布局 */
    align-items: center;       /* 垂直居中 */
    justify-content: center;   /* 水平居中 */
    position: relative;        /* 方便子元素绝对定位 */
    padding: 1rem;             /* 内边距 */
    font-size: 1rem;           /* 字号 */
    font-weight: 600;          /* 字重 */
    z-index: 1001;             /* 覆盖页面其他内容 */
  }
  .promo-bar .promo-text {
    margin-right: 0.6rem;      /* 促销文字和倒计时间距 */
  }
  .promo-bar .countdown {
    background: #F8CF1C;       /* 黄色背景 */
    color: #222;               /* 深色文字 */
    padding: 0.3rem 0.7rem;    /* 内边距 */
    border-radius: 4px;        /* 圆角 */
    font-weight: bold;         /* 加粗 */
    margin-right: 0.8rem;      /* 右侧间距 */
    font-variant-numeric: tabular-nums; /* 等宽数字，便于数字对齐 */
  }
  .promo-bar .promo-close {
    position: absolute;        /* 绝对定位关闭按钮 */
    right: 1rem;               /* 右边距 */
    top: 50%;                  /* 垂直居中 */
    transform: translateY(-50%); /* 垂直居中调整 */
    background: none;          /* 无背景 */
    border: none;              /* 无边框 */
    color: #fff;               /* 白色字体 */
    font-size: 1.2rem;         /* 字号 */
    cursor: pointer;           /* 鼠标手型 */
  }

  /* ② Header 网站头部 */
  .site-header {
    background: #fff;          /* 白色背景 */
    box-shadow: 0 2px 10px rgb(127 24 127 / 0.1); /* 浅紫色阴影 */
    position: sticky;          /* 粘性定位，顶部固定 */
    top: 0;                   /* 距离顶部0 */
    z-index: 1000;             /* 层级 */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* 头部字体 */
  }
  .header-inner {
    max-width: 1200px;         /* 最大宽度 */
    margin: 0 auto;            /* 居中 */
    display: flex;             /* flex 布局 */
    align-items: center;       /* 垂直居中 */
    padding: 0.8rem 2rem;      /* 内边距 */
    gap: 2rem;                 /* 子元素间距 */
  }
  .logo {
    font-weight: 700;          /* 加粗 */
    font-size: 1.9rem;         /* 大字号 */
    color: #7F187F;            /* 紫色 */
    letter-spacing: 1px;       /* 字母间距 */
    flex-shrink: 0;            /* 不缩小 */
    cursor: pointer;           /* 手型 */
    transition: color 0.3s ease; /* 颜色渐变 */
  }
  .logo:hover {
    color: #a53dbf;            /* hover变色 */
  }
  .main-nav ul {
    list-style: none;          /* 无列表标记 */
    display: flex;             /* 水平排列菜单 */
    gap: 2.5rem;               /* 菜单项间距 */
    padding: 0;
    margin: 0;
  }
  .main-nav a {
    text-decoration: none;     /* 去除下划线 */
    color: #333;               /* 字体颜色 */
    font-weight: 600;          /* 字重 */
    font-size: 1rem;           /* 字号 */
    transition: color 0.25s ease; /* 颜色过渡 */
    padding: 0.25rem 0;        /* 上下内边距 */
    border-bottom: 2px solid transparent; /* 底部边框初始透明 */
  }
  .main-nav a:hover,
  .main-nav a:focus {
    color: #7F187F;            /* hover/focus紫色 */
    border-bottom-color: #7F187F; /* 下边框颜色 */
  }
  .search-area {
    position: relative;        /* 绝对定位搜索按钮 */
    flex-grow: 1;              /* 占用剩余空间 */
    max-width: 420px;          /* 最大宽度 */
  }
  .search-area input {
    width: 100%;               /* 全宽 */
    padding: 0.6rem 3rem 0.6rem 1rem; /* 内边距，右边为按钮预留空间 */
    font-size: 1rem;           /* 字号 */
    border: 1.5px solid #ddd;  /* 边框 */
    border-radius: 24px;       /* 圆角 */
    transition: border-color 0.3s ease; /* 边框颜色动画 */
  }
  .search-area input:focus {
    outline: none;             /* 去掉默认轮廓 */
    border-color: #7F187F;     /* 聚焦边框颜色 */
    box-shadow: 0 0 8px rgb(127 24 127 / 0.3); /* 投影效果 */
  }
  .search-btn {
    position: absolute;        /* 绝对定位 */
    right: 8px;                /* 右侧距离 */
    top: 50%;                  /* 垂直居中 */
    transform: translateY(-50%);
    background: transparent;   /* 透明背景 */
    border: none;              /* 无边框 */
    cursor: pointer;           /* 手型 */
    font-size: 1rem;           /* 字号 */
    user-select: none;         /* 禁止文本选中 */
  }
  .action-icons {
    display: flex;             /* 水平排列图标 */
    gap: 1rem;                 /* 图标间距 */
  }
  .btn-signin {
    display: flex;             /* 内部元素水平排列 */
    align-items: center;       /* 垂直居中 */
    gap: 6px;                  /* 图标和文字间距 */
    padding: 6px 12px;
    font-size: 0.95rem;
    color: #7F187F;            /* 紫色 */
    background-color: transparent;
    border-radius: 4px;
    font-weight: 600;
    transition: color 0.2s ease, background-color 0.2s ease;
    border: none;
    cursor: pointer;
  }
  .btn-signin svg {
    fill: #7F187F;             /* 图标颜色 */
  }
  .btn-signin:hover {
    background-color: rgba(127, 24, 127, 0.05); /* 浅紫背景 */
    color: #5a115a;            /* 深紫文字 */
  }
  .btn-signin:hover svg {
    fill: #5a115a;             /* 深紫图标 */
  }

  /* 弹窗遮罩层 */
  .auth-modal {
    display: none;             /* 默认隐藏 */
    position: fixed;           /* 固定定位 */
    z-index: 9999;             /* 最高层级 */
    inset: 0;                  /* 覆盖全屏 */
    background-color: rgba(0,0,0,0.7); /* 半透明黑色背景 */
    backdrop-filter: blur(5px); /* 背景模糊效果 */
    align-items: center;       /* flex 垂直居中 */
    justify-content: center;   /* 水平居中 */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    overflow-y: auto;          /* 垂直滚动 */
    padding: 1rem;             /* 内边距 */
    transition: background-color 0.3s ease;
  }
  /* 显示弹窗 */
  .auth-modal.show {
    display: flex;
  }
  /* 弹窗内容容器 */
  .auth-modal-content {
    background-color: #fff;    /* 白色背景 */
    margin: auto;
    padding: 36px 40px;        /* 内边距 */
    border-radius: 14px;       /* 圆角 */
    width: 380px;
    max-width: 100%;
    box-shadow: 0 12px 40px rgba(0,0,0,0.3); /* 阴影 */
    position: relative;
    box-sizing: border-box;
    transform-origin: center;
    animation: modalFadeInScale 0.35s cubic-bezier(0.4, 0, 0.2, 1); /* 弹窗动画 */
    outline: none;
    border: 2px solid transparent;  /* 默认无边框 */
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
  }
  /* 弹窗聚焦样式 */
  .auth-modal-content:focus {
    outline: none;
    border-color: #bfa76a;  /* 暗金色边框 */
    box-shadow: 0 0 12px rgba(191, 167, 106, 0.6);
  }
  /* 弹窗入场动画 */
  @keyframes modalFadeInScale {
    from {
      opacity: 0;
      transform: scale(0.85);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  /* 关闭按钮样式 */
  #closeAuth {
    position: absolute;
    top: 14px;
    right: 14px;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background-color: rgba(26, 26, 26, 0.15); /* 低调黑色半透明 */
    color: #bfa76a; /* 暗金色字体 */
    font-size: 22px;
    line-height: 34px;
    text-align: center;
    cursor: pointer;
    border: none;
    user-select: none;
    transition: background-color 0.25s ease, color 0.25s ease, transform 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 8px rgba(191, 167, 106, 0.4); /* 金色阴影 */
  }
  #closeAuth:hover,

  /* 关闭按钮获得焦点时样式 */
#closeAuth:focus {
  background-color: #1a1a1a; /* 深黑背景，突出焦点状态 */
  color: #fff8dc;            /* 柔和的金白色文字，增强对比 */
  outline: none;             /* 去除默认的浏览器焦点轮廓 */
  box-shadow: 0 0 16px rgba(191, 167, 106, 0.8); /* 金色光晕，突出聚焦 */
  transform: scale(1.1);     /* 放大按钮，强调交互反馈 */
}

/* 登录注册切换标签区域 */
.auth-tabs {
  text-align: center;        /* 标签文字居中 */
  margin-bottom: 2.4rem;     /* 下方外边距，分隔内容 */
  user-select: none;         /* 禁止文本选中，避免误操作 */
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* 使用系统UI字体 */
  display: flex;             /* 使用Flex布局 */
  justify-content: center;   /* 标签居中排列 */
  gap: 16px;                 /* 标签间距 */
}

/* 登录注册切换标签按钮基础样式 */
.auth-tabs button {
  padding: 0.85rem 2.4rem;   /* 内边距，扩大点击区域 */
  border: none;              /* 去除默认边框 */
  border-radius: 8px 8px 0 0; /* 上方圆角，底部直角 */
  background: transparent;   /* 背景透明 */
  cursor: pointer;           /* 鼠标悬停显示手型 */
  font-weight: 700;          /* 字体加粗 */
  color: #555;               /* 灰色文字 */
  font-size: 1.15rem;        /* 字号 */
  transition: color 0.35s ease, background 0.35s ease, box-shadow 0.35s ease; /* 平滑过渡效果 */
  user-select: none;         /* 禁止文本选中 */
  box-shadow: inset 0 0 0 transparent; /* 默认无内阴影 */
  letter-spacing: 0.04em;    /* 字母间距 */
}

/* 激活状态标签按钮 */
.auth-tabs button.active {
  color: #1a1a1a;            /* 近黑色文字 */
  background: linear-gradient(135deg, #f5f1e7, #bfa76a); /* 淡米色到暗金渐变背景 */
  box-shadow: inset 0 -6px 12px rgba(191, 167, 106, 0.15); /* 底部内阴影，增加立体感 */
  font-weight: 800;          /* 更加加粗 */
  text-shadow: 0 0 4px rgba(191, 167, 106, 0.35); /* 文字阴影，提升可读性 */
  outline-offset: 4px;       /* 焦点轮廓偏移 */
}

/* 标签按钮获得焦点时的样式 */
.auth-tabs button:focus {
  outline: 3px solid #bfa76a; /* 金色轮廓描边，突出焦点 */
  outline-offset: 3px;         /* 轮廓偏移 */
}

/* 登录和注册表单过渡效果 */
#loginForm,
#registerForm {
  transition: opacity 0.3s ease; /* 透明度渐变切换 */
}

/* 非激活状态的表单隐藏 */
#loginForm:not(.active),
#registerForm:not(.active) {
  opacity: 0;               /* 完全透明 */
  height: 0;                /* 高度为0，隐藏元素 */
  overflow: hidden;         /* 内容溢出隐藏 */
  pointer-events: none;     /* 禁止鼠标事件 */
  position: absolute;       /* 脱离文档流，防止占位 */
}

/* 弹窗内输入框样式 */
.auth-modal-content input {
  width: 100%;              /* 宽度100% */
  padding: 14px 16px;       /* 内边距 */
  margin: 14px 0;           /* 上下间距 */
  box-sizing: border-box;   /* 盒模型包含边框和内边距 */
  border: 2px solid #ccc;   /* 浅灰边框 */
  border-radius: 8px;       /* 圆角 */
  font-size: 1rem;          /* 字号 */
  transition: border-color 0.3s ease, box-shadow 0.3s ease; /* 边框和阴影过渡 */
  font-weight: 500;         /* 字重 */
  outline-offset: 2px;      /* 轮廓偏移 */
}

/* 输入框获得焦点时样式 */
.auth-modal-content input:focus {
  outline: none;            /* 去除默认焦点轮廓 */
  border-color: #bfa76a;    /* 暗金色边框 */
  box-shadow: 0 0 12px rgba(191, 167, 106, 0.6); /* 金色光晕 */
}

/* 弹窗按钮基础样式 */
.auth-modal-content button {
  width: 100%;              /* 宽度100% */
  padding: 16px 0;          /* 上下内边距 */
  background-color: #223355; /* 深蓝色背景 */
  color: #d4bfa3;           /* 柔和香槟金文字 */
  border: 1.5px solid #d4bfa3; /* 边框 */
  border-radius: 8px;       /* 圆角 */
  cursor: pointer;          /* 鼠标悬停手型 */
  font-weight: 700;         /* 字体加粗 */
  font-size: 1.15rem;       /* 字号 */
  box-shadow: 0 2px 8px rgba(34, 51, 85, 0.4); /* 阴影效果 */
  transition: background-color 0.3s ease, color 0.3s ease; /* 颜色渐变 */
  user-select: none;        /* 禁止文本选中 */
  letter-spacing: 0.03em;   /* 字母间距 */
}

/* 按钮悬停状态 */
.auth-modal-content button:hover:not(:disabled) {
  background-color: #2c3a70; /* 稍亮的深蓝 */
  color: #f0e6d2;            /* 更亮的香槟金 */
  box-shadow: 0 4px 14px rgba(44, 58, 112, 0.5); /* 更强阴影 */
  transform: none;           /* 取消可能的变换 */
}

/* 按钮禁用状态 */
.auth-modal-content button:disabled {
  cursor: not-allowed;       /* 禁止点击 */
  opacity: 0.5;              /* 半透明 */
  background: #777;          /* 灰色背景 */
  border-color: #666;        /* 深灰边框 */
  color: #bbb;               /* 浅灰文字 */
  box-shadow: none;          /* 无阴影 */
}

/* 弹窗内容容器获得焦点时去除默认轮廓 */
.auth-modal-content:focus {
  outline: none;
}

/* 登录表单默认隐藏 */
#loginForm {
  display: none;
}
/* 登录表单激活时显示 */
#loginForm.active {
  display: block;
}

/* 注册表单默认隐藏 */
#registerForm {
  display: none;
}
/* 注册表单激活时显示 */
#registerForm.active {
  display: block;
}

/* 统一风格的小按钮，适合内联使用 */
.btn-inline {
  display: inline-flex;              /* 行内弹性盒模型，方便图标和文本对齐 */
  align-items: center;               /* 垂直居中对齐内容 */
  padding: 6px 10px;                 /* 内边距，保证点击区域适中 */
  font-size: 0.9rem;                 /* 稍小字体 */
  color: #7F187F;                    /* 主色调紫色文字 */
  background-color: transparent;    /* 背景透明 */
  border: none;                     /* 无边框 */
  border-radius: 4px;               /* 小圆角 */
  font-weight: 600;                 /* 中等偏粗字体 */
  cursor: pointer;                  /* 鼠标悬停显示手型 */
  text-decoration: none;            /* 去除文本下划线 */
  transition: background-color 0.2s ease; /* 背景色平滑过渡 */
}

/* 小按钮悬停时背景颜色变淡紫色半透明 */
.btn-inline:hover {
  background-color: rgba(127, 24, 127, 0.1);
}

/* 简易图标按钮，适合只有图标的按钮 */
.icon-btn {
  background: transparent;          /* 背景透明 */
  border: none;                     /* 无边框 */
  cursor: pointer;                  /* 鼠标手型 */
  padding: 6px;                     /* 内边距，增加点击面积 */
  border-radius: 50%;               /* 圆形按钮 */
  transition: background-color 0.2s ease; /* 背景颜色过渡 */
  display: flex;                   /* 使用flex方便图标居中 */
  align-items: center;             /* 垂直居中 */
  justify-content: center;         /* 水平居中 */
}

/* 图标按钮悬停时背景颜色变浅紫色半透明 */
.icon-btn:hover {
  background-color: rgba(127, 24, 127, 0.15);
}

/* 图标按钮内的SVG图标样式 */
.icon-btn svg {
  fill: #7F187F;                   /* 使用主题紫色填充 */
  width: 20px;                    /* 宽度20像素 */
  height: 20px;                   /* 高度20像素 */
}

/* 轮廓按钮（主要按钮样式），一般用于强调操作 */
.btn-outline-primary {
  color: #7F187F;                 /* 紫色文字 */
  border: 2px solid #7F187F;     /* 紫色边框 */
  padding: 8px 16px;              /* 内边距，按钮尺寸适中 */
  font-weight: 700;               /* 加粗字体 */
  border-radius: 6px;             /* 圆角 */
  background-color: transparent; /* 透明背景 */
  cursor: pointer;                /* 鼠标悬停手型 */
  transition: background-color 0.3s ease, color 0.3s ease; /* 颜色渐变过渡 */
}

/* 轮廓按钮悬停时背景紫色，文字变白 */
.btn-outline-primary:hover {
  background-color: #7F187F;
  color: white;
}


/* 合作伙伴连接区块，淡粉背景，内容居中 */
.partner-connect-section {
  background-color: #fff8fc; /* 淡粉背景 */
  padding: 60px 20px;        /* 上下左右内边距 */
  text-align: center;        /* 内容居中 */
  border-top: 1px solid #eee; /* 上边框浅灰分割线 */
}

/* 合作伙伴区块内容器，限制最大宽度居中 */
.partner-connect-container {
  max-width: 480px;
  margin: 0 auto;
}

/* 区块标题样式 */
.partner-connect-section h2 {
  font-size: 1.8rem;        /* 较大字号 */
  color: #7F187F;           /* 紫色文字 */
  margin-bottom: 1rem;      /* 底部间距 */
}

/* 区块描述文字 */
.partner-connect-section .desc {
  color: #555;              /* 深灰文字 */
  margin-bottom: 1.6rem;    /* 底部间距 */
}

/* 合作伙伴表单文本输入框 */
#partnerForm input {
  width: 100%;              /* 宽度100% */
  padding: 14px;            /* 内边距 */
  margin-bottom: 12px;      /* 底部间距 */
  border: 2px solid #ccc;   /* 浅灰边框 */
  border-radius: 8px;       /* 圆角 */
  font-size: 1rem;          /* 字号 */
}

/* 合作伙伴表单提交按钮 */
#partnerForm button {
  width: 100%;              /* 宽度100% */
  padding: 14px;            /* 内边距 */
  font-size: 1.1rem;        /* 稍大字号 */
  background-color: #7F187F; /* 紫色背景 */
  color: white;             /* 白色文字 */
  border: none;             /* 无边框 */
  border-radius: 8px;       /* 圆角 */
  cursor: pointer;          /* 鼠标手型 */
  font-weight: bold;        /* 加粗字体 */
  transition: background-color 0.3s ease; /* 背景颜色过渡 */
}

/* 提交按钮悬停颜色变深紫 */
#partnerForm button:hover {
  background-color: #a23ba2;
}

/* 表单提示消息，默认紫色 */
.form-message {
  margin-top: 1rem;         /* 顶部间距 */
  font-size: 0.95rem;       /* 字号稍小 */
  color: #7F187F;           /* 紫色 */
}

/* 错误消息文字颜色红色 */
.form-message.error {
  color: #c00;
}

/* 页头操作区域，使用flex水平排列 */
.header-actions {
  display: flex;
  align-items: center;      /* 垂直居中 */
  gap: 1rem;                /* 图标或按钮间距 */
}

/* 促销文本中高亮部分 */
.promo-text .highlight {
  font-size: 1.3em;         /* 放大字号 */
  font-weight: 700;         /* 加粗 */
  margin-right: 0.2em;      /* 右侧小间距 */
}

/* 合作伙伴表单的select下拉框样式，继承input样式 */
#partnerForm select {
  width: 100%;              /* 宽度100% */
  padding: 14px;            /* 内边距 */
  margin-bottom: 12px;      /* 底部间距 */
  border: 2px solid #ccc;   /* 浅灰边框 */
  border-radius: 8px;       /* 圆角 */
  font-size: 1rem;          /* 字号 */
  color: #333;              /* 文字颜色深灰 */
  background-color: #fff8fc; /* 背景淡粉 */
  appearance: none;         /* 去掉默认浏览器样式（箭头） */
  background-image: url("data:image/svg+xml,%3Csvg fill='%237F187F' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E"); /* 自定义箭头 */
  background-repeat: no-repeat;
  background-position: right 14px center;
  background-size: 16px 16px;
  cursor: pointer;
  transition: border-color 0.3s ease;
}

/* select获得焦点时边框变紫，增加阴影 */
#partnerForm select:focus {
  outline: none;
  border-color: #7F187F;
  box-shadow: 0 0 8px rgb(127 24 127 / 0.3);
}

/* 合作伙伴表单标签样式 */
#partnerForm label {
  display: block;           /* 块级元素 */
  text-align: left;         /* 左对齐 */
  font-weight: 600;         /* 半粗体 */
  margin-bottom: 6px;       /* 底部间距 */
  color: #7F187F;           /* 紫色文字 */
  font-size: 1rem;          /* 字号 */
} 

  /* 输入框聚焦样式 */
#partnerForm input:focus {
  outline: none;
  border-color: #7F187F;
  box-shadow: 0 0 8px rgba(127, 24, 127, 0.3);
}

/* 下拉框聚焦样式，已有 */
#partnerForm select:focus {
  outline: none;
  border-color: #7F187F;
  box-shadow: 0 0 8px rgb(127 24 127 / 0.3);
}


/* 语义化辅助文本，屏幕阅读器专用 */
.sr-only {
  position: absolute !important; /* 脱离文档流 */
  width: 1px !important;          /* 极小宽度 */
  height: 1px !important;         /* 极小高度 */
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;   /* 内容隐藏 */
  clip: rect(0, 0, 0, 0) !important; /* 裁剪不可见 */
  border: 0 !important;
}


/* ② 新沙漏动画优化样式，用独立类名 */
.hourglass-optimized {
  width: 30px;
  height: 42px;
  position: relative;
  animation: flipHourglass 5s linear infinite;
  transform-origin: center center;
  margin-left: 0.4rem;
}

@keyframes flipHourglass {
  0% { transform: rotate(0deg); }
  10% { transform: rotate(0deg); }      /* 停顿在初始 */
  40% { transform: rotate(180deg); }    /* 翻转 */
  60% { transform: rotate(180deg); }    /* 停顿在180度 */
  90% { transform: rotate(360deg); }    /* 翻回 */
  100% { transform: rotate(360deg); }   /* 准备下一轮 */
}

.hourglass-optimized svg {
  width: 100%;
  height: 100%;
}

.hourglass-optimized .hourglass-outline {
  stroke: #F8CF1C;
  stroke-width: 2;
  fill: none;
}

.hourglass-optimized .grain {
  fill: #F8CF1C;
  opacity: 0.9;
  animation-name: fall, sway;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: infinite, infinite;
  animation-direction: normal, alternate;
  animation-fill-mode: forwards;
  transform-origin: center;
}

/* 每颗沙粒动画时间稍微错开 */
.hourglass-optimized .grain:nth-child(2) {
  animation-duration: 4.8s, 1.3s;
  animation-delay: 0.8s, 0.2s;
}
.hourglass-optimized .grain:nth-child(3) {
  animation-duration: 5.2s, 1.1s;
  animation-delay: 1.5s, 0.5s;
}
.hourglass-optimized .grain:nth-child(4) {
  animation-duration: 5s, 1.4s;
  animation-delay: 2.2s, 0.8s;
}
.hourglass-optimized .grain:nth-child(5) {
  animation-duration: 5.1s, 1.3s;
  animation-delay: 3s, 0.4s;
}

/* 第一颗默认参数 */
.hourglass-optimized .grain:nth-child(1) {
  animation-duration: 5s, 1.2s;
  animation-delay: 0s, 0s;
}

@keyframes fall {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  80% {
    opacity: 1;
    transform: translateY(14px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(18px) scale(0.6);
  }
}

@keyframes sway {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(2px);
  }
} 
/* === 基础全局设置，禁止横向滚动 === */
html, body {
  margin: 0;
  padding: 0;
  max-width: 100vw;
  overflow-x: hidden;
  box-sizing: border-box;
}

/* 所有元素默认使用 border-box */
*, *::before, *::after {
  box-sizing: inherit;
}

/* 布局容器 */
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

@media (max-width: 768px) {
  body {
    background-color:#fafafa;  /* 浅灰背景 */
  }

  .partner-connect-section {
    background-color:#fafafa;  /* 浅灰背景 */
  }
}


@media (max-width: 768px) {
  .site-header {
    padding: 0.75rem 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
  }

  .header-inner {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
    justify-content: space-between;
    align-items: center;
  }

  /* 第一行：logo + 操作区（购物车 + 登录） */
  .logo {
    flex: 1 1 auto;
    font-size: 1.3rem;
    font-weight: 700;
    text-align: left;
  }

  .action-area {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .header-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .btn-signin {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    padding: 0.4rem 0.6rem;
    font-size: 0.85rem;

    color: white;
    border: none;
    border-radius: 4px;
  }

  .icon-btn {
    background: none;
    border: none;
    padding: 0.3rem;
  }

  .action-icons {
    width: 20px;
    height: 20px;
  }

  /* 第二行：导航 + 搜索 */
  .main-nav {
    flex: 1 1 100%;
    order: 1;
  }

  .main-nav ul {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.4rem;
    padding: 0;
    margin: 0;
    list-style: none;
  }

  .main-nav li a {
    display: inline-block;
    padding: 0.3rem 0.6rem;
    font-size: 0.9rem;
  }

  .search-area {
    flex: 1 1 100%;
    display: flex;
    justify-content: center;
    gap: 0.4rem;
    margin-top: 0.4rem;
    order: 2;
    flex-wrap: nowrap;
  }

  .search-area input[type="search"] {
    flex: 1 1 auto;
    min-width: 140px;
    font-size: 0.9rem;
    padding: 0.4rem 0.5rem;
  }

  .search-area .search-btn {
    padding: 0.4rem 0.6rem;
    font-size: 0.9rem;
    white-space: nowrap;
  }

  /* 优化 promo-bar（促销条）手机端样式，确保不影响视觉 */
  .promo-bar {
    font-size: 0.85rem;
    flex-wrap: wrap;
    gap: 0.4rem;
    padding: 0.3rem 1rem;
    text-align: center;
  }

  .promo-text {
    display: block;
    margin-bottom: 0.2rem;
  }

  .countdown {
    font-weight: bold;
    margin-left: 0.3rem;
  }

  .promo-close {
    position: absolute;
    top: 0.2rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.2rem;
  }
}

  </style>
</head>
<body>

<!-- 促销条 --> 

<div class="promo-bar" id="promoBar">
<span class="promo-text">
  🚀 <span class="highlight">数字化升级</span>合作倒计时开启，抢先一步领先市场！今日时间仅剩
</span> 
  <span class="countdown" id="countdown">23:59:59</span>
  <span class="hourglass-optimized" aria-hidden="true" title="倒计时沙漏">
    <svg viewBox="0 0 40 60" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
      <!-- 沙漏外框 -->
      <path class="hourglass-outline" d="M10 5 L30 5 L10 55 L30 55 Z M10 5 L30 55 M30 5 L10 55" />
      <!-- 沙粒 -->
      <circle class="grain" cx="18" cy="15" r="2.2" />
      <circle class="grain" cx="21" cy="15" r="1.8" />
      <circle class="grain" cx="19" cy="15" r="2" />
      <circle class="grain" cx="22" cy="15" r="1.6" />
      <circle class="grain" cx="20" cy="15" r="2.1" />
    </svg>
  </span>
  <button class="promo-close" id="promoClose" aria-label="关闭促销条">&times;</button>
</div>

  <!-- Header -->
  <header class="site-header">
    <div class="header-inner">
      <div class="logo" tabindex="0" role="link" aria-label="Wayfair 首页">R winSaaS</div>
      <nav class="main-nav" role="navigation" aria-label="主导航">
        <ul>
          <li><a href="#">首页</a></li>
          <li><a href="#">解决方案</a></li> 

          <li><a href="#">案例展示</a></li>
          <li><a href="#">联系我们</a></li> 
        </ul>
      </nav>
      <div class="search-area">
        <input type="search" placeholder="搜索产品" aria-label="搜索产品" />
        <button class="search-btn" aria-label="搜索">
          🔍
        </button>
      </div> 

<!-- 操作区域 -->
<div class="action-area">

  <div class="header-actions">
    <!-- 购物车 -->
    <button class="icon-btn" aria-label="购物车">
      <svg class="action-icons" viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
        <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10
        0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14h9.84c.75
        0 1.41-.41 1.75-1.03l3.58-6.49A1.003 1.003 0 0021.5 5H5.21l-.94-2H1v2h2l3.6
        7.59-1.35 2.45C4.52 15.37 5.48 17 7 17h12v-2H7.42c-.14
        0-.25-.11-.25-.25l.03-.12L7.16 14z"/>
      </svg>
    </button>

    <!-- 登录 -->
    <button class="btn-signin" id="btnSignIn" aria-haspopup="dialog" aria-controls="authModal" aria-expanded="false">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22.5" height="22.5" aria-hidden="true">
        <path d="M12 12c2.67 0 8 1.34 8 4v4H4v-4c0-2.66 5.33-4 8-4zM12
        2a4 4 0 100 8 4 4 0 000-8z"/>
      </svg>
      登录
    </button>
  </div>

</div> 
  </header> 

<!-- 登录/注册弹窗 -->
<div class="auth-modal" id="authModal" role="dialog" aria-modal="true" aria-labelledby="authTitle" tabindex="-1" aria-hidden="true">
  <div class="auth-modal-content" role="document" aria-live="polite" aria-atomic="true">
    <button id="closeAuth" aria-label="关闭登录注册弹窗" title="关闭弹窗">&times;</button>
    <div class="auth-tabs" role="tablist" aria-label="登录和注册切换">
      <button class="active" role="tab" id="loginTab" aria-controls="loginForm" aria-selected="true" tabindex="0">登录</button>
      <button role="tab" id="registerTab" aria-controls="registerForm" aria-selected="false" tabindex="-1">注册</button>
    </div>

    <form id="loginForm" class="active" role="tabpanel" aria-labelledby="loginTab" novalidate>
      <input type="email" placeholder="邮箱" required aria-label="邮箱" autocomplete="username" />
      <input type="password" placeholder="密码" required aria-label="密码" autocomplete="current-password" />
      <button type="submit">登录</button>
    </form>

    <form id="registerForm" role="tabpanel" aria-labelledby="registerTab" hidden novalidate>
      <input type="text" placeholder="用户名" required aria-label="用户名" autocomplete="username" />
      <input type="email" placeholder="邮箱" required aria-label="邮箱" autocomplete="email" />
      <input type="password" placeholder="密码" required aria-label="密码" autocomplete="new-password" />
      <button type="submit">注册</button>
    </form>
  </div>
</div>

<section class="partner-connect-section" aria-labelledby="partnerConnectTitle">
  <div class="partner-connect-container">
    <h2 id="partnerConnectTitle">合作意向交流</h2>
    <p class="desc">
      立即留下您的邮箱，<strong>获取专属数字化系统升级解决方案</strong>
    </p>
    <form id="partnerForm" novalidate>
      <!-- 这里替换了 “您的姓名（可选）” 为选项框 -->
      <label for="userType" class="sr-only">请选择您希望获取的内容</label>
      <select id="userType" name="userType" required aria-required="true" aria-describedby="userTypeDesc">
        <option value="" disabled selected>请选择内容类型</option>
        <option value="profile">我想要架构师技术背景（简历）</option>
        <option value="architecture">我想获取数字架构升级（方案）</option>
      </select>
      <p id="userTypeDesc" class="sr-only">请选择您想要获取的内容类型</p>

      <input type="email" id="partnerEmail" name="email" placeholder="请输入您的邮箱" required aria-required="true" />
      <button type="submit">立即行动</button>
      <p id="formMessage" role="alert" aria-live="polite"></p>
    </form>
  </div>
</section>

<script>
  // 缓存弹窗内容元素，避免重复查找
  const authModal = document.getElementById('authModal');
  const btnSignIn = document.getElementById('btnSignIn');
  const closeAuth = document.getElementById('closeAuth');
  const loginTab = document.getElementById('loginTab');
  const registerTab = document.getElementById('registerTab');
  const loginForm = document.getElementById('loginForm');
  const registerForm = document.getElementById('registerForm');
  const modalContent = authModal ? authModal.querySelector('.auth-modal-content') : null;

  // 防止重复关闭
  let isModalClosing = false;

  // 弹窗打开动画，保持原逻辑但缓存元素，添加事件监听保证准确回调
  function animateModalOpen() {
    if (!modalContent) return;
    modalContent.style.transform = 'scale(0.8)';
    modalContent.style.opacity = '0';
    modalContent.style.transition = 'transform 0.25s ease, opacity 0.25s ease';
    requestAnimationFrame(() => {
      modalContent.style.transform = 'scale(1)';
      modalContent.style.opacity = '1';
    });
  }

  // 弹窗关闭动画，使用transitionend事件代替setTimeout，更精准
  function animateModalClose(callback) {
    if (!modalContent) {
      callback();
      return;
    }

    function onTransitionEnd(e) {
      if (e.target === modalContent && (e.propertyName === 'transform' || e.propertyName === 'opacity')) {
        modalContent.removeEventListener('transitionend', onTransitionEnd);
        modalContent.style.transition = '';
        modalContent.style.transform = '';
        modalContent.style.opacity = '';
        callback();
        isModalClosing = false;
      }
    }

    modalContent.style.transform = 'scale(1)';
    modalContent.style.opacity = '1';
    modalContent.style.transition = 'transform 0.25s ease, opacity 0.25s ease';
    requestAnimationFrame(() => {
      modalContent.style.transform = 'scale(0.8)';
      modalContent.style.opacity = '0';
    });

    modalContent.addEventListener('transitionend', onTransitionEnd);
  }

  // 统一切换tab函数，减少重复代码
  function switchTab(tab = 'login') {
    const isLogin = tab === 'login';

    loginTab.classList.toggle('active', isLogin);
    loginTab.setAttribute('aria-selected', isLogin ? 'true' : 'false');
    loginTab.setAttribute('tabindex', isLogin ? '0' : '-1');

    registerTab.classList.toggle('active', !isLogin);
    registerTab.setAttribute('aria-selected', isLogin ? 'false' : 'true');
    registerTab.setAttribute('tabindex', isLogin ? '-1' : '0');

    loginForm.classList.toggle('active', isLogin);
    if (isLogin) loginForm.removeAttribute('hidden'); else loginForm.setAttribute('hidden', '');

    registerForm.classList.toggle('active', !isLogin);
    if (!isLogin) registerForm.removeAttribute('hidden'); else registerForm.setAttribute('hidden', '');

    if (isLogin) loginTab.focus(); else registerTab.focus();
  }

  // 打开弹窗，禁止滚动用类名控制，更利于样式管理
  let lastFocusElement = null;
  function openAuthModal(defaultTab = 'login') {
    if (!authModal || !btnSignIn) return;
    if (authModal.classList.contains('show')) return; // 已打开防止重复调用

    lastFocusElement = document.activeElement;

    authModal.classList.add('show');
    authModal.setAttribute('aria-hidden', 'false');
    btnSignIn.setAttribute('aria-expanded', 'true');
    document.body.classList.add('no-scroll'); // 需要在CSS定义 .no-scroll { overflow: hidden; }

    switchTab(defaultTab);
    animateModalOpen();
  }

  // 关闭弹窗，防止重复触发关闭动画
  function closeAuthModal() {
    if (isModalClosing || !authModal || !btnSignIn) return;
    if (!authModal.classList.contains('show')) return;
    isModalClosing = true;

    animateModalClose(() => {
      authModal.classList.remove('show');
      authModal.setAttribute('aria-hidden', 'true');
      btnSignIn.setAttribute('aria-expanded', 'false');
      document.body.classList.remove('no-scroll');

      if (lastFocusElement && lastFocusElement.focus) {
        lastFocusElement.focus();
      }
    });
  }

  // 绑定事件
  if (btnSignIn) btnSignIn.addEventListener('click', () => openAuthModal('login'));
  if (closeAuth) closeAuth.addEventListener('click', closeAuthModal);

  if (loginTab) loginTab.addEventListener('click', () => switchTab('login'));
  if (registerTab) registerTab.addEventListener('click', () => switchTab('register'));

  // 支持键盘左右切换tab，ESC关闭弹窗
  if (authModal) {
    const tabsContainer = authModal.querySelector('.auth-tabs');
    if (tabsContainer) {
      tabsContainer.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {
          e.preventDefault();
          if (loginTab.classList.contains('active')) {
            switchTab('register');
          } else {
            switchTab('login');
          }
        } else if (e.key === 'Escape') {
          closeAuthModal();
        }
      });
    }

    // 点击遮罩关闭弹窗
    authModal.addEventListener('click', (e) => {
      if (e.target === authModal) {
        closeAuthModal();
      }
    });
  }

// 合作意向表单
const partnerForm = document.getElementById('partnerForm');
const partnerEmail = document.getElementById('partnerEmail');
const partnerName = document.getElementById('partnerName');
const userTypeSelect = document.getElementById('userType');  // 获取 select 元素
const formMessage = document.getElementById('formMessage');

if (partnerForm) {
  let isSubmitting = false;

  partnerForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    if (isSubmitting) return; // 防止重复提交
    formMessage.textContent = '';
    formMessage.classList.remove('error');

    const email = partnerEmail.value.trim();
    // name 可为空，不做必填校验
    const name = partnerName ? partnerName.value.trim() : '';
    const userType = userTypeSelect ? userTypeSelect.value : '';

    // 验证选择内容类型（必填）
    if (!userType) {
      formMessage.textContent = '请选择您想要获取的内容类型';
      formMessage.classList.add('error');
      return;
    }

    // 更严谨邮箱验证正则
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!email || !emailPattern.test(email)) {
      formMessage.textContent = '请输入有效的邮箱地址';
      formMessage.classList.add('error');
      return;
    }

    isSubmitting = true;

    try {
      const res = await fetch('https://my-netlify-hof.netlify.app/.netlify/functions/partner-connect', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ email, name, userType }),
        mode: 'cors' // 启用跨域模式
      });

      const data = await res.json();

      if (res.ok) {
        formMessage.textContent = '✅ 提交成功！请查收验证邮件，我们会尽快联系您。';
        partnerForm.reset();

        // 提交成功后提示3秒后清空
        setTimeout(() => {
          formMessage.textContent = '';
          formMessage.classList.remove('error');
        }, 3000);
      } else {
        formMessage.textContent = data.error || '提交失败，请稍后再试。';
        formMessage.classList.add('error');
      }

    } catch (err) {
      formMessage.textContent = '网络错误，请检查连接后重试。';
      formMessage.classList.add('error');
      console.error('[partner-form] error:', err);

    } finally {
      isSubmitting = false;
    }
  });
}

  // 活动倒计时（自执行函数封装）
  (function() {
    const countdownEl = document.getElementById('countdown');
    const promoBar = document.getElementById('promoBar');
    const promoClose = document.getElementById('promoClose');
    if (!countdownEl || !promoBar || !promoClose) return;

    let intervalId;

    function updateCountdown() {
      const now = new Date();
      const midnight = new Date();
      midnight.setHours(24, 0, 0, 0); // 当天午夜

      const diff = midnight - now;

      if (diff <= 0) {
        countdownEl.textContent = '00:00:00';
        clearInterval(intervalId);
        return;
      }

      const hours = Math.floor(diff / 1000 / 60 / 60);
      const minutes = Math.floor((diff / 1000 / 60) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      const pad = n => n.toString().padStart(2, '0');
      countdownEl.textContent = `${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;
    }

    // 启动倒计时
    updateCountdown();
    intervalId = setInterval(updateCountdown, 1000);

    // 页面隐藏时暂停倒计时，显示时恢复
    document.addEventListener('visibilitychange', () => {
      if (document.hidden) {
        clearInterval(intervalId);
      } else {
        updateCountdown();
        intervalId = setInterval(updateCountdown, 1000);
      }
    });

    // 关闭按钮事件
    promoClose.addEventListener('click', () => {
      promoBar.style.display = 'none';
      clearInterval(intervalId);
    });
  })();

  // 沙漏粒子动画控制，使用requestAnimationFrame替代setInterval，性能更好
  const hourglass = document.querySelector('.hourglass-optimized');
  if (hourglass) {
    const grains = hourglass.querySelectorAll('.grain');

    function updateGrainState() {
      const style = getComputedStyle(hourglass);
      const matrix = new DOMMatrixReadOnly(style.transform);
      // 计算角度，范围 -180 ~ 180
      let angle = Math.round(Math.atan2(matrix.b, matrix.a) * (180 / Math.PI));
      if (angle < 0) angle += 360; // 转换为 0 ~ 360 角度

      // 当角度接近0°、180°或360°时暂停动画（±5°误差容忍）
      const isAtStop = [0, 180, 360].some(stopAngle => Math.abs(angle - stopAngle) <= 5);

      grains.forEach(grain => {
        grain.style.animationPlayState = isAtStop ? 'paused' : 'running';
      });

      requestAnimationFrame(updateGrainState);
    }

    // 启动动画状态检测循环
    updateGrainState();
  }
</script>


</body> 




</html>    